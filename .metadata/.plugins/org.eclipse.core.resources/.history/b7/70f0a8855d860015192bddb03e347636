import java.awt.Color;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.GridLayout;
import java.awt.Insets;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.ArrayList;

import javax.swing.DefaultListModel;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JPanel;
import javax.swing.JScrollPane;

//TODO: complete implementation
public class SelectionPanel  extends JPanel {

	/** List containing the list station IDs */
	private JList<String> stationList;
	/** List containing all of the variables */
	private JList<String> variableList;
	/** List containing all the years in a data file */
	private JList<String> yearList;
	/** Models the year list. Used in the yearList constructor */
	private DefaultListModel<String> yearListModel;
	/** Array list containing int values of the data file's years */
	private ArrayList<Integer> yearListValues;
	
	/** Scroll pane for navigating the station list */
	private JScrollPane stationListScroller;
	/** Scroll pane for navigating the variable list */
	private JScrollPane variableListScroller;
	/** Scroll pane for navigating the year list */
	private JScrollPane yearListScroller;
	
	/** Label next to the station list */
	private JLabel stationLabel;
	/** Label next to the variable list */
	private JLabel variableLabel;
	/** Label next to the year list */
	private JLabel yearListLabel;
	
	/**
	 * Constructor
	 * @throws IOException 
	 * @throws FileNotFoundException 
	 */
	public SelectionPanel() throws FileNotFoundException, IOException {
		//TODO: set display properties
		this.setBackground(new Color(0, 244, 0, 30));
		
		//initialize the labels
		stationLabel = new JLabel("Select Station:");
		variableLabel = new JLabel("Select Variable:");
		yearListLabel = new JLabel("Select Year(s):");
		
		//construct the stationInfo list and populate the stationList component
		StationInfoList geoInfoList = new StationInfoList("data/geoinfo.csv");
		String[] stationArray = geoInfoList.getStationIds().toArray(new String[geoInfoList.getStationIds().size()]);
		stationList = new JList<String>(stationArray);
		stationList.setLayoutOrientation(JList.HORIZONTAL_WRAP);
		
		//construct the dataInfo list and populate the variable list component
		DataInfoList dataTranslationList = new DataInfoList("data/DataTranslation.csv");
		String[] variableArray = dataTranslationList.getVariableIds().toArray(new String[dataTranslationList.getVariableIds().size()]);
		variableList = new JList<String>(variableArray);
		variableList.setLayoutOrientation(JList.HORIZONTAL_WRAP);
		
		//TODO: figure out best way to load years and populate this scroller
		yearList = new JList<String>();
		
		//TODO: see if there is a way to make the scroll pane vertical, not horizontal
		stationListScroller = new JScrollPane(stationList);
		variableListScroller = new JScrollPane(variableList);
		yearListScroller = new JScrollPane(yearList);
		
		//TODO: determine layout of this label component
		GridBagLayout layout = new GridBagLayout();
		GridBagConstraints c = new GridBagConstraints();
		c.insets = new Insets(10, 10, 10, 10);
		layout.setConstraints(this, c);
		this.setLayout(layout);
		
		add(stationLabel);
		add(stationListScroller);
		add(variableLabel);
		add(variableListScroller);
		add(yearListLabel);
		add(yearListScroller);
	}
}
